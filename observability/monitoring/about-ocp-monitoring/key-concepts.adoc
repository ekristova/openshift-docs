:_mod-docs-content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="key-concepts"]
= Understanding the monitoring stack - key concepts
:context: key-concepts

toc::[]

Get familiar with the {product-title} monitoring concepts and terms. Learn about how you can improve performance and scale of your cluster, store and record data, manage metrics and alerts, and more.

[id="about-performance-and-scalability_{context}"]
== About performance and scalability

You can optimize the performance and scale of your clusters.
You can configure the default monitoring stack by performing any of the following actions:

* Control the placement and distribution of monitoring components:
** Use node selectors to move components to specific nodes.
** Assign tolerations to enable moving components to tainted nodes.
* Use pod topology spread constraints.
* Set the body size limit for metrics scraping.
* Manage CPU and memory resources.
* Use metrics collection profiles.

include::modules/monitoring-using-node-selectors-to-move-monitoring-components.adoc[leveloffset=+2]

// [role="_additional-resources"]
// .Additional resources

// * TBD

include::modules/monitoring-using-pod-topology-spread-constraints-for-monitoring.adoc[leveloffset=+2]

include::modules/monitoring-about-specifying-limits-and-requests-for-monitoring-components.adoc[leveloffset=+2,tags=**;CPM;!UWM]

include::modules/monitoring-about-specifying-limits-and-requests-for-monitoring-components.adoc[leveloffset=+2,tags=**;!CPM;UWM]

include::modules/monitoring-configuring-metrics-collection-profiles.adoc[leveloffset=+2]

// [role="_additional-resources"]
// .Additional resources

// * TBD

[id="about-storing-and-recording-data_{context}"]
== About storing and recording data

You can store and record data to help you protect the data and use them for troubleshooting.
You can configure the default monitoring stack by performing any of the following actions:

* Configure persistent storage:
** Protect your metrics and alerting data from data loss by storing them in a persistent volume (PV). As a result, they can survive pods being restarted or recreated.
** Avoid getting duplicate notifications and losing silences for alerts when the Alertmanager pods are restarted.
* Modify the retention time and size for Prometheus and Thanos Ruler metrics data.
* Configure logging to help you troubleshoot issues with your cluster:
** Configure audit logs for Metrics Server.
** Set log levels for monitoring.
** Enable the query logging for Prometheus and Thanos Querier.

include::modules/monitoring-retention-time-and-size-for-prometheus-metrics-data.adoc[leveloffset=+2]

// Understanding metrics
include::modules/monitoring-understanding-metrics.adoc[leveloffset=+1]

include::modules/monitoring-controlling-the-impact-of-unbound-attributes-in-user-defined-projects.adoc[leveloffset=+2]

include::modules/monitoring-adding-cluster-id-labels-to-metrics.adoc[leveloffset=+2]

// [role="_additional-resources"]
// .Additional resources

// * TBD


//About monitoring dashboards
include::modules/monitoring-about-monitoring-dashboards.adoc[leveloffset=+1]

//Managing alerts
include::modules/monitoring-about-managing-alerts.adoc[leveloffset=+1]

include::modules/monitoring-managing-silences.adoc[leveloffset=+2]

include::modules/monitoring-managing-core-platform-alerting-rules.adoc[leveloffset=+2]
include::modules/monitoring-tips-for-optimizing-alerting-rules-for-core-platform-monitoring.adoc[leveloffset=+2]

include::modules/monitoring-about-creating-alerting-rules-for-user-defined-projects.adoc[leveloffset=+2]
include::modules/monitoring-managing-alerting-rules-for-user-defined-projects.adoc[leveloffset=+2]
include::modules/monitoring-optimizing-alerting-for-user-defined-projects.adoc[leveloffset=+2]

include::modules/monitoring-searching-alerts-silences-and-alerting-rules.adoc[leveloffset=+2]


// Overview of setting up alert routing for user-defined projects
include::modules/monitoring-understanding-alert-routing-for-user-defined-projects.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* xref:../../../observability/monitoring/preparing-to-configure-the-monitoring-stack/preparing-to-configure-the-monitoring-stack-uwm.adoc#enabling-alert-routing-for-user-defined-projects_preparing-to-configure-the-monitoring-stack-uwm[Enabling alert routing for user-defined projects]

// Sending notifications to external systems
include::modules/monitoring-sending-notifications-to-external-systems.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* xref:../../../observability/monitoring/configuring-core-platform-monitoring/configuring-alerts-and-notifications#configuring-alert-notifications_configuring-alerts-and-notifications[Configuring alert notifications for core platform monitoring]
* xref:../../../observability/monitoring/configuring-user-workload-monitoring/configuring-alerts-and-notifications-uwm#configuring-alert-notifications_configuring-alerts-and-notifications-uwm[Configuring alert notifications for user workload monitoring]


